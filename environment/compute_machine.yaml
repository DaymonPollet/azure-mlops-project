# I have commented that are suitable to delete in a clean IaC file below, with explanations next to them.
# The $schema line should typically be at the very top, but is implied here if not explicitly provided in the source.

# created_on: 2025-05-31T09:08:31.677654+0000 # Slooks like a system generated timestamp, could be discarded
enable_node_public_ip: true # only keep if u want explicte public ip address
enable_os_patching: false # keep if u want os patching
enable_root_access: true # keep for explicite root acces
enable_sso: true # keep if u want explicitely enable os
# id: /subscriptions/6a36bb7a-aee5-4e15-a3c7-2e362d2c2387/resourceGroups/mlops-demo/providers/Microsoft.MachineLearningServices/workspaces/pollet-daymon-ml/computes/cli-created-machine # can be deleted because it would be generated by azure again
idle_time_before_shutdown: PT30M
idle_time_before_shutdown_minutes: 30
# last_operation: # Oke, i had to look this one up but appearently this block contains runtime status of the last operation. So all this runtime information can be deleted (I think).
#   operation_name: Create
#   operation_status: Succeeded
#   operation_time: '2025-05-31T09:08:40.141Z'
#   operation_trigger: User
# location: germanywestcentral # if set in az configure --defaults we can remove this
name: cli-created-machine
# network_settings: # since they are managed and set by azure they are normally said after creation
#   private_ip_address: 10.0.0.4
#   public_ip_address: 9.141.171.36
# os_image_metadata: # Runtime information about the OS image. # just like the 'last_operation' part this is runtime information
#   current_image_version: 25.04.23
#   is_latest_os_image_version: true
#   latest_image_version: 25.04.23
# provisioning_state: Succeeded # this is runtime status of the resource, can also be deleted
release_quota_on_stop: false # only keep if explicitely controlled
# resourceGroup: mlops-demo # can be deleted because normally this comes from 'az configure --defaults' or deployment context.
schedules:
  compute_start_stop:
    - action: stop
      # provisioning_state: Completed # another runtime state, can also be deleted
      # schedule_id: bb51d2fc-2744-4c48-accd-4bcbd5bd01ff # also system generated 
      state: enabled
      trigger:
        expression: 00 20 * * 1,2,3,4,5
        start_time: '2024-05-14T11:00:00'
        time_zone: UTC
        type: cron
    - action: start # Starts at 8:30 AM CEST (6:30 AM UTC) Mon-Thu # -> oke, this shouldn't actually be deleted but these comments are here because of the origal file
      state: enabled
      trigger:
        expression: "30 6 * * 1,2,3,4"
        start_time: "2025-06-01T00:00:00"
        time_zone: "UTC"
        type: cron
    - action: start # Starts at 10:00 AM CEST (8:00 AM UTC) on Friday # -> oke, this shouldn't actually be deleted but these comments are here because of the origal file
      state: enabled
      trigger:
        expression: "0 8 * * 5"
        start_time: "2025-06-01T00:00:00"
        time_zone: "UTC"
        type: cron
# services: # generated endpoints by azure, once again, we can delete those 
# - display_name: Jupyter
#   endpoint_uri: https://cli-created-machine.germanywestcentral.instances.azureml.ms/tree/
# - display_name: Jupyter Lab
#   endpoint_uri: https://cli-created-machine.germanywestcentral.instances.azureml.ms/lab
size: STANDARD_DS3_V2
ssh_public_access_enabled: false # only keep if explicitly controlled, otherwise can be deleted
# ssh_settings: # ssh details generated by azure
#   admin_username: azureuser
#   ssh_port: '50000'
# state: Running # another status feedback about the service
type: computeinstance